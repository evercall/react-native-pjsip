{"version":3,"sources":["../src/Message.ts"],"names":["Message","constructor","accountId","contactUri","fromUri","toUri","body","contentType","fromNumber","fromName","match","_accountId","_contactUri","_fromUri","_fromName","_fromNumber","_toUri","_body","_contentType","getAccountId","getContactUri","getFromUri","getFromName","getFromNumber","getToUri","getBody","getContentType"],"mappings":"AASA;AACA;AACA;AACA,eAAe,MAAMA,OAAN,CAAc;AAiBzBC,EAAAA,WAAW,CAAC;AACVC,IAAAA,SADU;AAEVC,IAAAA,UAFU;AAGVC,IAAAA,OAHU;AAIVC,IAAAA,KAJU;AAKVC,IAAAA,IALU;AAMVC,IAAAA;AANU,GAAD,EAOK;AACd,QAAIC,UAAU,GAAG,IAAjB;AACA,QAAIC,QAAQ,GAAG,IAAf;;AAEA,QAAIL,OAAJ,EAAa;AACX,UAAIM,KAAK,GAAGN,OAAO,CAACM,KAAR,CAAc,yBAAd,CAAZ;;AAEA,UAAIA,KAAJ,EAAW;AACTD,QAAAA,QAAQ,GAAGC,KAAK,CAAC,CAAD,CAAhB;AACAF,QAAAA,UAAU,GAAGE,KAAK,CAAC,CAAD,CAAlB;AACD,OAHD,MAGO;AACLA,QAAAA,KAAK,GAAGN,OAAO,CAACM,KAAR,CAAc,cAAd,CAAR;;AAEA,YAAIA,KAAJ,EAAW;AACTF,UAAAA,UAAU,GAAGE,KAAK,CAAC,CAAD,CAAlB;AACD;AACF;AACF;;AAED,SAAKC,UAAL,GAAkBT,SAAlB;AACA,SAAKU,WAAL,GAAmBT,UAAnB;AACA,SAAKU,QAAL,GAAgBT,OAAhB;AACA,SAAKU,SAAL,GAAiBL,QAAjB;AACA,SAAKM,WAAL,GAAmBP,UAAnB;AACA,SAAKQ,MAAL,GAAcX,KAAd;AACA,SAAKY,KAAL,GAAaX,IAAb;AACA,SAAKY,YAAL,GAAoBX,WAApB;AACD;AAED;AACJ;AACA;AACA;;;AACIY,EAAAA,YAAY,GAAW;AACrB,WAAO,KAAKR,UAAZ;AACD;AAED;AACJ;AACA;AACA;;;AACIS,EAAAA,aAAa,GAAW;AACtB,WAAO,KAAKR,WAAZ;AACD;AAED;AACJ;AACA;AACA;;;AACIS,EAAAA,UAAU,GAAW;AACnB,WAAO,KAAKR,QAAZ;AACD;AAED;AACJ;AACA;AACA;;;AACIS,EAAAA,WAAW,GAAW;AACpB,WAAO,KAAKR,SAAZ;AACD;AAED;AACJ;AACA;AACA;;;AACIS,EAAAA,aAAa,GAAW;AACtB,WAAO,KAAKR,WAAZ;AACD;AAED;AACJ;AACA;AACA;;;AACIS,EAAAA,QAAQ,GAAW;AACjB,WAAO,KAAKR,MAAZ;AACD;AAED;AACJ;AACA;AACA;;;AACIS,EAAAA,OAAO,GAAW;AAChB,WAAO,KAAKR,KAAZ;AACD;AAED;AACJ;AACA;AACA;;;AACIS,EAAAA,cAAc,GAAW;AACvB,WAAO,KAAKR,YAAZ;AACD;;AAnHwB","sourcesContent":["export type MessageData = {\n    accountId: number,\n    contactUri: string,\n    fromUri: string,\n    toUri: string,\n    body: string,\n    contentType: string,\n}\n\n/**\n * This class describes the information and current status of a call.\n */\nexport default class Message {\n    _accountId: number;\n\n    _contactUri: string;\n\n    _fromUri: string;\n\n    _fromName: string;\n\n    _fromNumber: string;\n\n    _toUri: string;\n\n    _body: string;\n\n    _contentType: string;\n\n    constructor({\n      accountId,\n      contactUri,\n      fromUri,\n      toUri,\n      body,\n      contentType,\n    }: MessageData) {\n      let fromNumber = null\n      let fromName = null\n\n      if (fromUri) {\n        let match = fromUri.match(/\"([^\"]+)\" <sip:([^@]+)@/)\n\n        if (match) {\n          fromName = match[1]\n          fromNumber = match[2]\n        } else {\n          match = fromUri.match(/sip:([^@]+)@/)\n\n          if (match) {\n            fromNumber = match[1]\n          }\n        }\n      }\n\n      this._accountId = accountId\n      this._contactUri = contactUri\n      this._fromUri = fromUri\n      this._fromName = fromName\n      this._fromNumber = fromNumber\n      this._toUri = toUri\n      this._body = body\n      this._contentType = contentType\n    }\n\n    /**\n     * The account ID where this message belongs.\n     * @returns {int}\n     */\n    getAccountId(): number {\n      return this._accountId\n    }\n\n    /**\n     * The Contact URI of the sender, if present.\n     * @returns {String}\n     */\n    getContactUri(): string {\n      return this._contactUri\n    }\n\n    /**\n     * URI of the sender.\n     * @returns {String}\n     */\n    getFromUri(): string {\n      return this._fromUri\n    }\n\n    /**\n     * Sender name, or NULL if no name specified in URI.\n     * @returns {String}\n     */\n    getFromName(): string {\n      return this._fromName\n    }\n\n    /**\n     * Sender number\n     * @returns {String}\n     */\n    getFromNumber(): string {\n      return this._fromNumber\n    }\n\n    /**\n     * URI of the destination message.\n     * @returns {String}\n     */\n    getToUri(): string {\n      return this._toUri\n    }\n\n    /**\n     * Message body, or NULL if no message body is attached to this mesage.\n     * @returns {String}\n     */\n    getBody(): string {\n      return this._body\n    }\n\n    /**\n     * MIME type of the message.\n     * @returns {String}\n     */\n    getContentType(): string {\n      return this._contentType\n    }\n}\n"],"file":"Message.js"}